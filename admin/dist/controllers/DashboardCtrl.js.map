{"version":3,"sources":["controllers/DashboardCtrl.ts"],"names":[],"mappings":";;AACA,2BAA8B;AAE9B;IA0DI,uBACY,SAAoB,EACpB,QAA4B;QAFxC,iBAaC;QAZW,cAAS,GAAT,SAAS,CAAW;QACpB,aAAQ,GAAR,QAAQ,CAAoB;QArDhC,aAAQ,GAAW,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC;QACnD,gBAAW,GAAW,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,CAAC;QACvD,eAAU,GAAW,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC;QACrD,yBAAoB,GAAW,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,GAAG,CAAC,CAAC;QAI/D,YAAO,GAAG;YACd,SAAS,EAAE,mDAAmD;YAC9D,UAAU,EAAE,2EAA2E;YACvF,OAAO,EAAE,EAAE;YACX,IAAI,EAAE;gBACF,MAAM,EAAE,EAAE;gBACV,KAAK,EAAE,SAAS;gBAChB,OAAO,EAAE,CAAC;aACb;YACD,MAAM,EAAE;gBACJ,GAAG,EAAE,MAAM;gBACX,GAAG,EAAE,CAAC,IAAI;gBACV,IAAI,EAAE,CAAC;aACV;SACJ,CAAC;QAEM,eAAU,GAAY,KAAK,CAAC;QAC5B,YAAO,GAAa;YACxB,MAAM;YACN,MAAM;YACN,SAAS;SACZ,CAAC;QAKM,eAAU,GAAG;YACjB,SAAS,EAAE,EAAE;YACb,IAAI,EAAE,CAAC;SACV,CAAA;QAmBG,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,cAAc,EAAE,gBAAgB,CAAC,EAAE,IAAI,CAAC,oBAAoB,CAAC,CAAC;QAC/G,IAAI,CAAC,QAAQ,CAAC;YACV,IAAI,GAAG,GAAG,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,OAAO,CAAC,CAAC,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,KAAI,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAC7G,CAAC,CAAC,SAAS,CAAC,KAAI,CAAC,OAAO,CAAC,SAAS,EAAE;gBAChC,OAAO,EAAE,EAAE;gBACX,EAAE,EAAE,iBAAiB;gBACrB,WAAW,EAAE,KAAI,CAAC,OAAO,CAAC,UAAU;aACvC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;QAClB,CAAC,EAAE,GAAG,CAAC,CAAC;IACZ,CAAC;IA1BD,oCAAY,GAAZ;IAEA,CAAC;IAED,4CAAoB,GAApB,UAAqB,GAAU;IAE/B,CAAC;IAsBD,kCAAU,GAAV;QACI,IAAI,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;IACvD,CAAC;IAEL,oBAAC;AAAD,CA7EA,AA6EC;AAxBU,qBAAO,GAAG;IACb,WAAW;IACX,UAAU;CACb,CAAC;AAxDO,sCAAa","file":"DashboardCtrl.js","sourcesContent":["import { StatsSrvc } from '../services/StatsSrvc';\nimport L = require('leaflet');\n\nexport class DashboardCtrl {\n\n    // TODO: add authentication socket to listen for new logins\n    // private authentications: IAuthenticationItem[];\n    // private filteredAuthentications: IAuthenticationItem[];\n    // private selectedAuthentications: IAuthenticationItem[];\n\n    private appCount: number = Math.floor(Math.random() * 100);\n    private serverCount: number = Math.floor(Math.random() * 2000);\n    private adminCount: number = Math.floor(Math.random() * 300);\n    private userCountInThousands: number = Math.floor(Math.random() * 100);\n\n    private communicationID: number;\n\n    private lConfig = {\n        tileLayer: 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n        tileAttrib: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n        maxZoom: 14,\n        path: {\n            weight: 10,\n            color: '#800000',\n            opacity: 1\n        },\n        center: {\n            lat: 51.505,\n            lng: -0.09,\n            zoom: 8\n        }\n    };\n\n    private filterOpen: boolean = false;\n    private filters: string[] = [\n        \"time\",\n        \"name\",\n        \"country\"\n    ];\n    private selectedFilter: string;\n    private filterValue: string;\n\n    private orderBy: string;\n    private pagination = {\n        pageLimit: 11,\n        page: 1\n    }\n\n    applyFilters() {\n        \n    }\n\n    onServerNotification(msg: any[]) {\n        // update dashboard\n    }\n\n    static $inject = [\n        'StatsSrvc',\n        '$timeout'\n    ];\n\n    constructor(\n        private StatsSrvc: StatsSrvc,\n        private $timeout: ng.ITimeoutService\n    ) {\n        this.communicationID = this.StatsSrvc.subscribe(['registration', 'authentication'], this.onServerNotification);\n        this.$timeout(() => {\n            var map = L.map('map').setView([this.lConfig.center.lat, this.lConfig.center.lng], this.lConfig.center.zoom);\n            L.tileLayer(this.lConfig.tileLayer, {\n                maxZoom: 19,\n                id: 'open.street.map',\n                attribution: this.lConfig.tileAttrib\n            }).addTo(map);\n        }, 100);\n    }\n\n    destructor() {\n        this.StatsSrvc.unsubscribe([this.communicationID]);\n    }\n\n}"]}